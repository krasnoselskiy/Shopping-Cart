<%- include('../_layouts/admin-head') %>
<%- include('../_layouts/admin-header') %>

<div class="container mt-5">
  <%- messages('messages', locals) %>

  <% if (errors) { %>
    <% errors.forEach(function(error) { %>
      <div class="err-msg alert alert-danger mt-5">
        <%= error.param %> has <%= error.msg.toLowerCase(); %>
      </div>
    <% }); %>
  <% } %>

  <div class="top_title_wrap">
    <h2 class="page-title">Edit a page</h2>
    <a href="/admin/pages" class="btn btn-secondary">Back to all pages</a>
  </div>

  <form class="mt-2" method="post" action="/admin/pages/edit-page/<%= slug %>">
    <div class="form-group">
      <label for="title">Title</label>
      <input
        value="<%= title %>"
        type="text"
        name="title"
        id="title"
        class="form-control"
        placeholder="Page title"
      />
    </div>
    <div class="form-group">
      <label for="slug">Slug</label>
      <input
        value="<%= slug %>"
        type="text"
        name="slug"
        id="slug"
        class="form-control"
        placeholder="Page slug"
      />
    </div>
    <div class="form-group">
      <label for="content">Content</label>
      <textarea id="content_area" class="form-control" name="content" placeholder="Page content"><%= content %></textarea>
    </div>
    <input
      value="<%= id %>"
      type="hidden"
      name="id"
    />
    <button type="submit" class="btn btn-secondary">Save page</button>
  </form>
</div>

<%- include('../_layouts/admin-footer') %>